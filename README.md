# å¼€æºé˜…è¯» macOS ç‰ˆ (LegadoSwift)

<p align="center">
  <img src="Assets.xcassets/AppIcon.appiconset/128x128.png" width="128" height="128" alt="LegadoSwift Logo">
</p>

<p align="center">
  <strong>ä¸€æ¬¾åŸºäº SwiftUI å¼€å‘çš„ macOS ç”µå­ä¹¦é˜…è¯»å™¨</strong>
</p>

<p align="center">
  <a href="#åŠŸèƒ½ç‰¹æ€§">åŠŸèƒ½ç‰¹æ€§</a> â€¢
  <a href="#ç³»ç»Ÿè¦æ±‚">ç³»ç»Ÿè¦æ±‚</a> â€¢
  <a href="#å®‰è£…è¯´æ˜">å®‰è£…è¯´æ˜</a> â€¢
  <a href="#ä½¿ç”¨æŒ‡å—">ä½¿ç”¨æŒ‡å—</a> â€¢
  <a href="#å¼€å‘æ„å»º">å¼€å‘æ„å»º</a> â€¢
  <a href="#è´¡çŒ®æŒ‡å—">è´¡çŒ®æŒ‡å—</a> â€¢
  <a href="#è®¸å¯è¯">è®¸å¯è¯</a>
</p>

---

## ğŸ“– ç®€ä»‹

LegadoSwift æ˜¯çŸ¥åå¼€æºé˜…è¯»å™¨ã€Œå¼€æºé˜…è¯»ã€çš„ macOS ç§»æ¤ç‰ˆæœ¬ã€‚é‡‡ç”¨åŸç”Ÿ SwiftUI æ¡†æ¶å¼€å‘ï¼Œæä¾›æµç•…çš„é˜…è¯»ä½“éªŒå’Œç°ä»£åŒ–çš„ç”¨æˆ·ç•Œé¢ã€‚

> **æ³¨æ„**: æœ¬é¡¹ç›®ä¸ºç¤¾åŒºç§»æ¤ç‰ˆæœ¬ï¼Œä¸åŸç‰ˆ Android åº”ç”¨åŠŸèƒ½å¯èƒ½å­˜åœ¨å·®å¼‚ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ“š é˜…è¯»åŠŸèƒ½
- **å¤šæ ¼å¼æ”¯æŒ**: æ”¯æŒ TXTã€EPUB ç­‰å¸¸è§ç”µå­ä¹¦æ ¼å¼
- **ä¹¦æºå¯¼å…¥**: æ”¯æŒè‡ªå®šä¹‰ä¹¦æºï¼Œå¯å¯¼å…¥ç½‘ç»œä¹¦æºè¿›è¡Œåœ¨çº¿é˜…è¯»
- **é˜…è¯»è®¾ç½®**: å­—ä½“å¤§å°ã€è¡Œé—´è·ã€æ®µè½é—´è·ã€è¾¹è·ç­‰è‡ªå®šä¹‰
- **æ·±è‰²æ¨¡å¼**: åŸç”Ÿæ”¯æŒ macOS æ·±è‰²æ¨¡å¼ï¼ŒæŠ¤çœ¼é˜…è¯»
- **ç›®å½•å¯¼èˆª**: æ”¯æŒç« èŠ‚è·³è½¬å’Œç›®å½•æµè§ˆ
- **é˜…è¯»è¿›åº¦**: è‡ªåŠ¨ä¿å­˜é˜…è¯»è¿›åº¦ï¼Œæ”¯æŒä¹¦ç­¾åŠŸèƒ½
- **é˜…è¯»ç¬”è®°**: å³é”®æ·»åŠ ç¬”è®°ï¼Œæ”¯æŒç¬”è®°å¯¼å‡ºä¸ºmarkdown

### ğŸ” ä¹¦æºç®¡ç†
- **ä¹¦æºå¯¼å…¥**: æ”¯æŒ JSON æ ¼å¼ä¹¦æºå¯¼å…¥
- **ä¹¦æºç¼–è¾‘**: å¯è§†åŒ–ä¹¦æºè§„åˆ™ç¼–è¾‘
- **åœ¨çº¿æœç´¢**: åŸºäºä¹¦æºçš„åœ¨çº¿ä¹¦ç±æœç´¢
- **ä¹¦æºè°ƒè¯•**: æ”¯æŒä¹¦æºè§„åˆ™æµ‹è¯•å’Œè°ƒè¯•

### ğŸ“– ä¹¦æ¶ç®¡ç†
- **æœ¬åœ°å¯¼å…¥**: æ”¯æŒæ‹–æ‹½å¯¼å…¥æœ¬åœ°ä¹¦ç±
- **ä¹¦ç±ç®¡ç†**: æ”¯æŒä¹¦ç±åˆ é™¤ã€é‡æ’åº
- **å°é¢æ˜¾ç¤º**: è‡ªåŠ¨è§£æä¹¦ç±å°é¢ä¿¡æ¯
- **é˜…è¯»è®°å½•**: æ˜¾ç¤ºæœ€è¿‘é˜…è¯»ä¹¦ç±

### âŒ¨ï¸ å¿«æ·é”®æ”¯æŒ
| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `âŒ˜ + O` | æ‰“å¼€æœ¬åœ°æ–‡ä»¶ |
| `âŒ˜ + 1` | åˆ‡æ¢åˆ°ä¹¦æ¶ |
| `âŒ˜ + 2` | åˆ‡æ¢åˆ°æœç´¢ |
| `âŒ˜ + 3` | åˆ‡æ¢åˆ°ä¹¦æº |
| `âŒ˜ + 4` | åˆ‡æ¢åˆ°è®¾ç½® |
| `â†‘/â†“` | ç« èŠ‚å¯¼èˆª |
| `â†/â†’` | ç¿»é¡µ |
| `Esc` | é€€å‡ºé˜…è¯»/å…¨å± |

## ğŸ’» ç³»ç»Ÿè¦æ±‚

- **macOS**: 14.0 (Sonoma) æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ¶æ„**: Apple Silicon (M1/M2/M3) æˆ– Intel
- **å†…å­˜**: å»ºè®® 4GB ä»¥ä¸Š
- **å­˜å‚¨**: 100MB å¯ç”¨ç©ºé—´

## ğŸ“¥ å®‰è£…è¯´æ˜

### æ–¹å¼ä¸€ï¼šä¸‹è½½é¢„ç¼–è¯‘ç‰ˆæœ¬

1. å‰å¾€ [Releases](https://github.com/cqwuhukai/LegadoSwift/releases) é¡µé¢
2. ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ `LegadoSwift.app.zip`
3. è§£å‹åå°†åº”ç”¨æ‹–å…¥ã€Œåº”ç”¨ç¨‹åºã€æ–‡ä»¶å¤¹
4. é¦–æ¬¡è¿è¡Œå¯èƒ½éœ€è¦å‰å¾€ã€Œç³»ç»Ÿè®¾ç½® > éšç§ä¸å®‰å…¨æ€§ã€å…è®¸è¿è¡Œ

### æ–¹å¼äºŒï¼šè‡ªè¡Œç¼–è¯‘

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/cqwuhukai/LegadoSwift.git
cd LegadoSwift

# è¿è¡Œç¼–è¯‘è„šæœ¬
./build.sh

# ç¼–è¯‘å®Œæˆåï¼Œåº”ç”¨ä½äº release/LegadoSwiftApp.app
# å¯å°†å…¶å¤åˆ¶åˆ°ã€Œåº”ç”¨ç¨‹åºã€æ–‡ä»¶å¤¹
cp -r release/LegadoSwiftApp.app /Applications/å¼€æºé˜…è¯».app
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### å¯¼å…¥æœ¬åœ°ä¹¦ç±

1. ç‚¹å‡»ä¹¦æ¶é¡µé¢çš„ã€Œæ‰“å¼€æ–‡ä»¶ã€æŒ‰é’®ï¼Œæˆ–æŒ‰ `âŒ˜ + O`
2. é€‰æ‹©è¦å¯¼å…¥çš„ TXT æˆ– EPUB æ–‡ä»¶
3. ä¹¦ç±å°†è‡ªåŠ¨æ˜¾ç¤ºåœ¨ä¹¦æ¶ä¸Š

### æ·»åŠ ä¹¦æº

1. åˆ‡æ¢åˆ°ã€Œä¹¦æºã€æ ‡ç­¾é¡µ
2. ç‚¹å‡»ã€Œå¯¼å…¥ä¹¦æºã€æŒ‰é’®
3. é€‰æ‹©ä¹¦æº JSON æ–‡ä»¶æˆ–ç²˜è´´ä¹¦æºé“¾æ¥
4. å¯¼å…¥æˆåŠŸåå³å¯åœ¨æœç´¢ä¸­ä½¿ç”¨

### åœ¨çº¿æœç´¢

1. åˆ‡æ¢åˆ°ã€Œæœç´¢ã€æ ‡ç­¾é¡µ
2. è¾“å…¥ä¹¦åæˆ–ä½œè€…å
3. é€‰æ‹©ä¹¦æºè¿›è¡Œæœç´¢
4. ç‚¹å‡»ç»“æœå³å¯å¼€å§‹é˜…è¯»

### é˜…è¯»è®¾ç½®

1. åœ¨é˜…è¯»ç•Œé¢ç‚¹å‡»è®¾ç½®æŒ‰é’®
2. è°ƒæ•´å­—ä½“å¤§å°ã€è¡Œé—´è·ã€æ®µè½é—´è·
3. è®¾ç½®é¡µé¢è¾¹è·

## ğŸ› ï¸ å¼€å‘æ„å»º

### ç¯å¢ƒè¦æ±‚

- Xcode 15.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- Swift 5.9 æˆ–æ›´é«˜ç‰ˆæœ¬
- macOS 14.0 SDK

### æ„å»ºæ­¥éª¤

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/cqwuhukai/LegadoSwift.git
cd LegadoSwift

# 2. è§£æä¾èµ–
swift package resolve

# 3. æ„å»º Debug ç‰ˆæœ¬
swift build

# 4. æ„å»º Release ç‰ˆæœ¬
swift build -c release

# 5. ä½¿ç”¨æ„å»ºè„šæœ¬ï¼ˆæ¨èï¼‰
./build.sh
```

### é¡¹ç›®ç»“æ„

```
LegadoSwift/
â”œâ”€â”€ Sources/
â”‚   â”œâ”€â”€ LegadoSwiftApp/          # åº”ç”¨å…¥å£
â”‚   â”‚   â””â”€â”€ LegadoSwiftApp.swift
â”‚   â””â”€â”€ LegadoSwiftCore/         # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚       â”œâ”€â”€ Managers/            # ä¸šåŠ¡ç®¡ç†å™¨
â”‚       â”‚   â”œâ”€â”€ BookManager.swift
â”‚       â”‚   â””â”€â”€ BookSourceManager.swift
â”‚       â”œâ”€â”€ Models/              # æ•°æ®æ¨¡å‹
â”‚       â”‚   â”œâ”€â”€ Book.swift
â”‚       â”‚   â”œâ”€â”€ BookSource.swift
â”‚       â”‚   â””â”€â”€ ReadingConfig.swift
â”‚       â”œâ”€â”€ Network/             # ç½‘ç»œå±‚
â”‚       â”‚   â””â”€â”€ NetworkClient.swift
â”‚       â”œâ”€â”€ Reader/              # é˜…è¯»å™¨å®ç°
â”‚       â”‚   â”œâ”€â”€ EpubReader.swift
â”‚       â”‚   â””â”€â”€ TxtReader.swift
â”‚       â”œâ”€â”€ RuleEngine/          # ä¹¦æºè§„åˆ™å¼•æ“
â”‚       â”‚   â”œâ”€â”€ AnalyzeRule.swift
â”‚       â”‚   â”œâ”€â”€ RuleAnalyzer.swift
â”‚       â”‚   â””â”€â”€ JSEngine.swift
â”‚       â”œâ”€â”€ Search/              # æœç´¢åŠŸèƒ½
â”‚       â”‚   â”œâ”€â”€ BookSearchEngine.swift
â”‚       â”‚   â””â”€â”€ WebBookEngine.swift
â”‚       â””â”€â”€ Views/               # SwiftUI è§†å›¾
â”‚           â”œâ”€â”€ ContentView.swift
â”‚           â”œâ”€â”€ BookshelfView.swift
â”‚           â”œâ”€â”€ ReaderView.swift
â”‚           â””â”€â”€ ...
â”œâ”€â”€ Assets.xcassets/             # å›¾æ ‡å’Œèµ„æº
â”œâ”€â”€ Package.swift                # Swift Package Manager é…ç½®
â””â”€â”€ build.sh                     # æ„å»ºè„šæœ¬
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### æäº¤ Issue

- ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜æè¿°é—®é¢˜
- æä¾›å¤ç°æ­¥éª¤
- è¯´æ˜ç³»ç»Ÿç‰ˆæœ¬å’Œè½¯ä»¶ç‰ˆæœ¬
- é™„ä¸Šç›¸å…³æˆªå›¾æˆ–æ—¥å¿—

### æäº¤ä»£ç 

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

è¯¦è§ [CONTRIBUTING.md](CONTRIBUTING.md)


## ğŸ™ è‡´è°¢

- [å¼€æºé˜…è¯» (Legado)](https://github.com/gedoor/legado) - åŸç‰ˆ Android é˜…è¯»å™¨
- [SwiftSoup](https://github.com/scinfu/SwiftSoup) - HTML è§£æåº“
- [Swift Atomics](https://github.com/apple/swift-atomics) - åŸå­æ“ä½œæ”¯æŒ
- [LRUCache](https://github.com/nicklockwood/LRUCache) - ç¼“å­˜å®ç°

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ GPL-3.0 è®¸å¯è¯å¼€æº - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## âš ï¸ å…è´£å£°æ˜

æœ¬è½¯ä»¶ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”ã€‚ç”¨æˆ·ä½¿ç”¨æœ¬è½¯ä»¶æ‰€äº§ç”Ÿçš„ä»»ä½•åæœç”±ç”¨æˆ·è‡ªè¡Œæ‰¿æ‹…ã€‚

---

<p align="center">
  Made with â¤ï¸ by LegadoSwift Team
</p>
